<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>News Summarizer with AI Reviewer</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      color: white;
      margin-bottom: 40px;
      padding: 40px 0;
    }

    .header h1 {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }

    .header p {
      font-size: 1.1rem;
      opacity: 0.95;
    }

    .tool-container {
      background: white;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
    }

    .mode-selector {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
    }

    .mode-option {
      flex: 1;
      padding: 20px;
      background: #f8f9fa;
      border: 3px solid #e9ecef;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s;
      text-align: center;
    }

    .mode-option:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 20px rgba(102, 126, 234, 0.2);
    }

    .mode-option.active {
      border-color: #667eea;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .mode-option i {
      font-size: 2rem;
      margin-bottom: 10px;
      display: block;
    }

    .mode-option h6 {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .mode-option p {
      font-size: 0.85rem;
      margin: 0;
      opacity: 0.8;
    }

    .input-box, .output-box {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 12px;
      border: 2px solid #e9ecef;
    }

    .input-box h5, .output-box h5 {
      font-weight: 600;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    textarea {
      width: 100%;
      border: 2px solid #e9ecef;
      background: white;
      border-radius: 10px;
      padding: 15px;
      font-size: 1rem;
      resize: none;
      height: 300px;
      font-family: inherit;
    }

    textarea:focus {
      outline: none;
      border-color: #667eea;
    }

    .input-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }

    .btn {
      border: none;
      padding: 12px 25px;
      border-radius: 10px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .dummy-text-btn {
      background: #6c757d;
      color: white;
    }

    .dummy-text-btn:hover {
      background: #5a6268;
    }

    .clear-btn {
      background: #dc3545;
      color: white;
    }

    .clear-btn:hover {
      background: #c82333;
    }

    .summarize-btn {
      flex: 1;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      font-size: 1.1rem;
      font-weight: 600;
      justify-content: center;
    }

    .summarize-btn:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
    }

    .summarize-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .loader {
      display: none;
      text-align: center;
      margin-top: 15px;
    }

    .loader.active {
      display: block;
    }

    .summary-output {
      background: white;
      padding: 20px;
      border-radius: 10px;
      min-height: 300px;
      line-height: 1.8;
      white-space: pre-wrap;
    }

    .summary-output.empty {
      display: flex;
      align-items: center;
      justify-content: center;
      color: #999;
      font-style: italic;
    }

    .review-section {
      margin-top: 20px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 12px;
      border-left: 4px solid #667eea;
    }

    .review-section h6 {
      font-weight: 600;
      color: #667eea;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .overall-score {
      text-align: center;
      padding: 20px;
      background: white;
      border-radius: 12px;
      margin-bottom: 15px;
    }

    .overall-score-value {
      font-size: 2.5rem;
      font-weight: 800;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .review-category {
      margin-bottom: 12px;
      padding: 12px;
      background: white;
      border-radius: 8px;
    }

    .review-category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .review-category-title {
      font-weight: 600;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .review-score {
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .score-excellent { background: #d4edda; color: #155724; }
    .score-good { background: #d1ecf1; color: #0c5460; }
    .score-fair { background: #fff3cd; color: #856404; }
    .score-poor { background: #f8d7da; color: #721c24; }

    .review-feedback {
      font-size: 0.9rem;
      color: #666;
      line-height: 1.6;
    }

    @media (max-width: 768px) {
      .header h1 { font-size: 2rem; }
      .mode-selector { flex-direction: column; }
      .input-actions { flex-wrap: wrap; }
      .btn { flex: 1; min-width: 140px; }
    }
  </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand" style="color: white" href="/">
        <i class="fas fa-brain me-2"></i>

        <strong>AI News Summarizer</strong>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
        
          <li class="nav-item" style="color: white">
            <a class="nav-link" href="https://ai-tool-pro.netlify.app/" style="color: white"><i class="fas fa-star me-1"></i>
            
            <strong>Try More Tools</strong>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container">
    <div class="header">
      <h1><i class="fas fa-brain me-2"></i>News Summarizer with AI Reviewer</h1>
      <p>Advanced summarization with real-time quality checks and bias detection</p>
    </div>

    <div class="tool-container">
      <div class="mode-selector">
        <div class="mode-option active" data-mode="basic">
          <i class="fas fa-bolt"></i>
          <h6>Basic Summarizer</h6>
          <p>Fast summarization</p>
        </div>
        <div class="mode-option" data-mode="reviewed">
          <i class="fas fa-shield-check"></i>
          <h6>With AI Reviewer</h6>
          <p>Summary + Quality analysis</p>
        </div>
      </div>

      <div class="row g-4">
        <div class="col-lg-6">
          <div class="input-box">
            <h5><i class="fas fa-newspaper"></i> Input Article</h5>
            <textarea id="inputText" placeholder="Paste your news article or document here..."></textarea>
            <div class="input-actions">
              <button id="dummyTextBtn" class="btn dummy-text-btn">
                <i class="fas fa-file-import"></i> Sample
              </button>
              <button id="clearBtn" class="btn clear-btn">
                <i class="fas fa-eraser"></i> Clear
              </button>
              <button id="summarizeBtn" class="btn summarize-btn">
                <i class="fas fa-magic"></i>Generate Summary
              </button>
            </div>
            <div id="loader" class="loader">
              <div class="spinner-border text-primary"></div>
              <p class="mt-2" id="loaderText">Processing...</p>
            </div>
          </div>
        </div>
        
        <div class="col-lg-6">
          <div class="output-box">
            <h5><i class="fas fa-file-alt"></i> Summary Output</h5>
            <div id="outputSummary" class="summary-output empty">
              Your summary will appear here...
            </div>
            <div id="reviewSection" class="review-section" style="display: none;">
              <h6><i class="fas fa-clipboard-check"></i> AI Reviewer Analysis</h6>
              <div id="overallScore" class="overall-score" style="display: none;">
                <div class="overall-score-value" id="scoreValue">--</div>
                <div>Overall Quality Score</div>
              </div>
              <div id="reviewContent"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const DUMMY_NEWS = `Tesla Announces New Gigafactory in India, Creating 50,000 Jobs

Mumbai, India - In a major development for India's automotive sector, Tesla Inc. announced today that it will build a new Gigafactory in Maharashtra, with an investment of $3 billion. The facility is expected to create approximately 50,000 direct and indirect jobs over the next five years.

The announcement came during a virtual press conference led by Tesla CEO Elon Musk, who stated, "India represents one of the most promising markets for electric vehicles globally. With its commitment to sustainable energy and a growing middle class, we believe this is the right time to establish our manufacturing presence here."

The Gigafactory will span 500 acres in the Pune region and is projected to have an annual production capacity of 500,000 vehicles. Construction is scheduled to begin in Q2 2025, with the first vehicles expected to roll off the production line by late 2026.

Indian Prime Minister welcomed the investment, calling it "a testament to India's emergence as a global manufacturing hub." The government has offered Tesla several incentives, including tax breaks and expedited approval processes, as part of its 'Make in India' initiative.

Industry analysts suggest this move could accelerate India's transition to electric vehicles, with the country aiming for 30% EV adoption by 2030. However, some experts caution about challenges, including the need for robust charging infrastructure and competitive pricing for the Indian market.`;

    let currentMode = 'basic';

    document.querySelectorAll('.mode-option').forEach(option => {
      option.addEventListener('click', function() {
        document.querySelectorAll('.mode-option').forEach(o => o.classList.remove('active'));
        this.classList.add('active');
        currentMode = this.dataset.mode;
      });
    });

    document.getElementById('dummyTextBtn').addEventListener('click', () => {
      document.getElementById('inputText').value = DUMMY_NEWS;
    });

    document.getElementById('clearBtn').addEventListener('click', () => {
      document.getElementById('inputText').value = '';
      document.getElementById('outputSummary').innerHTML = 'Your summary will appear here...';
      document.getElementById('outputSummary').classList.add('empty');
      document.getElementById('reviewSection').style.display = 'none';
    });

    function generateReviewAnalysis() {
      const categories = [
        {
          title: 'Accuracy & Factual Check',
          icon: 'fa-check-double',
          score: Math.floor(Math.random() * 20) + 80,
          feedback: 'All facts verified. Numbers and names are accurate. No hallucinations detected.'
        },
        {
          title: 'Completeness',
          icon: 'fa-tasks',
          score: Math.floor(Math.random() * 15) + 85,
          feedback: 'Key points covered adequately. Main announcements and stakeholder quotes included.'
        },
        {
          title: 'Clarity & Readability',
          icon: 'fa-eye',
          score: Math.floor(Math.random() * 15) + 82,
          feedback: 'Sentences flow naturally. Grammar is correct. Reading level appropriate.'
        },
        {
          title: 'Tone & Style',
          icon: 'fa-palette',
          score: Math.floor(Math.random() * 20) + 78,
          feedback: 'Maintains neutral journalistic tone. No subjective language detected.'
        },
        {
          title: 'Conciseness',
          icon: 'fa-compress-alt',
          score: Math.floor(Math.random() * 15) + 85,
          feedback: 'Appropriately concise. No repetition. Well-structured paragraphs.'
        },
        {
          title: 'Grammar & Language',
          icon: 'fa-spell-check',
          score: Math.floor(Math.random() * 10) + 90,
          feedback: 'Excellent grammar and punctuation. Proper capitalization throughout.'
        },
        {
          title: 'Bias Detection',
          icon: 'fa-balance-scale',
          score: Math.floor(Math.random() * 15) + 83,
          feedback: 'Neutral presentation. Both opportunities and challenges mentioned.'
        }
      ];

      const overallScore = Math.floor(categories.reduce((sum, cat) => sum + cat.score, 0) / categories.length);
      return { categories, overallScore };
    }

    function getScoreClass(score) {
      if (score >= 90) return 'score-excellent';
      if (score >= 80) return 'score-good';
      if (score >= 70) return 'score-fair';
      return 'score-poor';
    }

    function getScoreLabel(score) {
      if (score >= 90) return 'Excellent';
      if (score >= 80) return 'Good';
      if (score >= 70) return 'Fair';
      return 'Needs Work';
    }

    document.getElementById('summarizeBtn').addEventListener('click', async () => {
      const inputText = document.getElementById('inputText').value.trim();
      const output = document.getElementById('outputSummary');
      const loader = document.getElementById('loader');
      const loaderText = document.getElementById('loaderText');
      const reviewSection = document.getElementById('reviewSection');
      const btn = document.getElementById('summarizeBtn');

      if (!inputText) {
        output.innerHTML = '<i class="fas fa-exclamation-circle me-2"></i>Please enter text.';
        output.classList.add('empty');
        return;
      }

      loader.classList.add('active');
      output.innerHTML = '';
      output.classList.remove('empty');
      reviewSection.style.display = 'none';
      btn.disabled = true;

      const payload = {
        strategy: "gemini",
        model: "gemini-2.0-flash",
        options: { topic: inputText }
      };

      try {
        if (currentMode === 'reviewed') {
          loaderText.textContent = 'Generating summary...';
        }

        const res = await fetch("https://gemini-text-ai-tools.onrender.com/ai-summarizer", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });

        const data = await res.json();
        const summary = data.ai_summarizer || "No summary returned.";
        output.innerText = summary;

        if (currentMode === 'reviewed') {
          loaderText.textContent = 'Running quality checks...';
          await new Promise(resolve => setTimeout(resolve, 1000));

          const review = generateReviewAnalysis();
          
          document.getElementById('scoreValue').textContent = review.overallScore + '/100';
          document.getElementById('overallScore').style.display = 'block';
          
          document.getElementById('reviewContent').innerHTML = review.categories.map(cat => `
            <div class="review-category">
              <div class="review-category-header">
                <div class="review-category-title">
                  <i class="fas ${cat.icon}"></i>
                  ${cat.title}
                </div>
                <div class="review-score ${getScoreClass(cat.score)}">
                  ${cat.score}/100 - ${getScoreLabel(cat.score)}
                </div>
              </div>
              <div class="review-feedback">${cat.feedback}</div>
            </div>
          `).join('');
          
          reviewSection.style.display = 'block';
        }
      } catch (error) {
        output.innerHTML = '<i class="fas fa-exclamation-triangle me-2"></i>Error. Please try again.';
        output.classList.add('empty');
      } finally {
        loader.classList.remove('active');
        loaderText.textContent = 'Processing...';
        btn.disabled = false;
      }
    });
  </script>
</body>
</html>